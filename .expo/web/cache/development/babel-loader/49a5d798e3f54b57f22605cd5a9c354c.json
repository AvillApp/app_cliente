{"ast":null,"code":"var _jsxFileName = \"/Users/ingjeisson/Documents/proyectos/personal/avill_cliente/app/Lib/plug/Popup.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport { Overlay } from \"react-native-elements\";\nimport AppButton from \"../../Lib/plug/AppButton\";\nimport { api } from \"../../Lib/utils/db\";\nimport axios from \"axios\";\nexport default function Loading(props) {\n  var isVisible = props.isVisible,\n      text = props.text;\n\n  var ChangedEstado = function ChangedEstado(pedido, est) {\n    var pedido_change;\n    return _regeneratorRuntime.async(function ChangedEstado$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            pedido_change = {\n              'estado': est\n            };\n            axios.put(api + \"pedidos/update_estado/\" + pedido + \"/\", pedido_change).then(function (response) {\n              console.log(response);\n            }).catch(function (error) {\n              console.log(error);\n            });\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var CancelarViaje = function CancelarViaje() {\n    var id_pedido, id_user, titulo, descripcion, logs_pedido;\n    return _regeneratorRuntime.async(function CancelarViaje$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"id_pedido\"));\n\n          case 2:\n            id_pedido = _context2.sent;\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"id_user\"));\n\n          case 5:\n            id_user = _context2.sent;\n            titulo = \"Cancelación de servicio\";\n            descripcion = \"Haz cancelado el servicio\";\n            logs_pedido = {\n              \"title\": titulo,\n              \"description\": descripcion,\n              \"pedido\": parseInt(id_pedido),\n              \"realizado_by\": parseInt(id_user)\n            };\n            axios.post(api + \"pedidos_acti/create/\", logs_pedido).then(function (response) {\n              console.log(response);\n              ChangedEstado(id_pedido, 4);\n            }).catch(function (error) {\n              console.log(error);\n            });\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var ConfirmarViaje = function ConfirmarViaje() {\n    var id_pedido, id_user, titulo, descripcion, logs_pedido;\n    return _regeneratorRuntime.async(function ConfirmarViaje$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"id_pedido\"));\n\n          case 2:\n            id_pedido = _context3.sent;\n            _context3.next = 5;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"id_user\"));\n\n          case 5:\n            id_user = _context3.sent;\n            titulo = \"Confirmación del viaje servicio\";\n            descripcion = \"Haz confirmado el servicio\";\n            logs_pedido = {\n              \"title\": titulo,\n              \"description\": descripcion,\n              \"pedido\": parseInt(id_pedido),\n              \"realizado_by\": parseInt(id_user)\n            };\n            axios.post(api + \"pedidos_acti/create/\", logs_pedido).then(function (response) {\n              console.log(response);\n              ChangedEstado(id_pedido, 7);\n            }).catch(function (error) {\n              console.log(error);\n            });\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(Overlay, {\n    isVisible: isVisible,\n    windowBackgroundColor: \"rgba(0,0,0, .5)\",\n    overlayBackgroundColor: \"transparent\",\n    overlayStyle: styles.overlay,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: styles.view,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, text && React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 18\n    }\n  }, text), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"\\n\"), React.createElement(AppButton, {\n    title: \"CONFIRMAR\",\n    action: ConfirmarViaje,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, \"\\n\"), React.createElement(AppButton, {\n    title: \"CANCELAR\",\n    action: CancelarViaje,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  })));\n}\nvar styles = StyleSheet.create({\n  overlay: {\n    height: 400,\n    width: 400,\n    backgroundColor: \"#fff\",\n    borderColor: \"#00a680\",\n    borderWidth: 2,\n    borderRadius: 10\n  },\n  view: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  text: {\n    color: \"#00a680\",\n    textTransform: \"uppercase\",\n    marginTop: 10\n  }\n});","map":{"version":3,"sources":["/Users/ingjeisson/Documents/proyectos/personal/avill_cliente/app/Lib/plug/Popup.js"],"names":["React","Overlay","AppButton","api","axios","Loading","props","isVisible","text","ChangedEstado","pedido","est","pedido_change","put","then","response","console","log","catch","error","CancelarViaje","AsyncStorage","getItem","id_pedido","id_user","titulo","descripcion","logs_pedido","parseInt","post","ConfirmarViaje","styles","overlay","view","StyleSheet","create","height","width","backgroundColor","borderColor","borderWidth","borderRadius","flex","alignItems","justifyContent","color","textTransform","marginTop"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;AAEA,SAASC,OAAT,QAAwB,uBAAxB;AACA,OAAOC,SAAP;AACA,SAASC,GAAT;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACrC,MAAQC,SAAR,GAA4BD,KAA5B,CAAQC,SAAR;AAAA,MAAmBC,IAAnB,GAA4BF,KAA5B,CAAmBE,IAAnB;;AAIA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAAOC,MAAP,EAAeC,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAEdC,YAAAA,aAFc,GAEE;AACpB,wBAAUD;AADU,aAFF;AAMpBP,YAAAA,KAAK,CAACS,GAAN,CAAaV,GAAb,8BAAyCO,MAAzC,QAAoDE,aAApD,EACIE,IADJ,CACS,UAAAC,QAAQ,EAAI;AACjBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAEA,aAJJ,EAIMG,KAJN,CAIY,UAAAC,KAAK,EAAE;AACdH,cAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,aANJ;;AANoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAgBA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACIC,YAAY,CAACC,OAAb,CAAqB,WAArB,CADJ;;AAAA;AACdC,YAAAA,SADc;AAAA;AAAA,6CAEEF,YAAY,CAACC,OAAb,CAAqB,SAArB,CAFF;;AAAA;AAEdE,YAAAA,OAFc;AAKdC,YAAAA,MALc,GAKL,yBALK;AAMdC,YAAAA,WANc,GAMA,2BANA;AAQdC,YAAAA,WARc,GAQA;AACnB,uBAASF,MADU;AAEnB,6BAAeC,WAFI;AAGnB,wBAAUE,QAAQ,CAACL,SAAD,CAHC;AAInB,8BAAgBK,QAAQ,CAACJ,OAAD;AAJL,aARA;AAepBpB,YAAAA,KAAK,CAACyB,IAAN,CAAc1B,GAAd,2BAAyCwB,WAAzC,EACIb,IADJ,CACS,UAAAC,QAAQ,EAAI;AACjBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAEEN,cAAAA,aAAa,CAACc,SAAD,EAAW,CAAX,CAAb;AAEF,aANJ,EAMML,KANN,CAMY,UAAAC,KAAK,EAAE;AACdH,cAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,aARJ;;AAfoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAgCA,MAAMW,cAAc,GAAG,SAAjBA,cAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACGT,YAAY,CAACC,OAAb,CAAqB,WAArB,CADH;;AAAA;AACfC,YAAAA,SADe;AAAA;AAAA,6CAECF,YAAY,CAACC,OAAb,CAAqB,SAArB,CAFD;;AAAA;AAEfE,YAAAA,OAFe;AAKfC,YAAAA,MALe,GAKN,iCALM;AAMfC,YAAAA,WANe,GAMD,4BANC;AAQfC,YAAAA,WARe,GAQD;AAClB,uBAASF,MADS;AAElB,6BAAeC,WAFG;AAGlB,wBAAUE,QAAQ,CAACL,SAAD,CAHA;AAIlB,8BAAgBK,QAAQ,CAACJ,OAAD;AAJN,aARC;AAcpBpB,YAAAA,KAAK,CAACyB,IAAN,CAAc1B,GAAd,2BAAyCwB,WAAzC,EACIb,IADJ,CACS,UAAAC,QAAQ,EAAI;AAChBC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAEAN,cAAAA,aAAa,CAACc,SAAD,EAAW,CAAX,CAAb;AAED,aANJ,EAMML,KANN,CAMY,UAAAC,KAAK,EAAE;AACdH,cAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,aARJ;;AAdoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAwBA,SACE,oBAAC,OAAD;AACE,IAAA,SAAS,EAAEZ,SADb;AAEE,IAAA,qBAAqB,EAAC,iBAFxB;AAGE,IAAA,sBAAsB,EAAC,aAHzB;AAIE,IAAA,YAAY,EAAEwB,MAAM,CAACC,OAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAED,MAAM,CAACE,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGzB,IAAI,IAAI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEuB,MAAM,CAACvB,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2BA,IAA3B,CADX,EAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO,IAAP,CAFF,EAIE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,WAAjB;AAA6B,IAAA,MAAM,EAAEsB,cAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO,IAAP,CALF,EAME,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,UAAjB;AAA4B,IAAA,MAAM,EAAEV,aAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CANF,CADF;AAiBD;AAED,IAAMW,MAAM,GAAGG,UAAU,CAACC,MAAX,CAAkB;AAC/BH,EAAAA,OAAO,EAAE;AACPI,IAAAA,MAAM,EAAE,GADD;AAEPC,IAAAA,KAAK,EAAE,GAFA;AAGPC,IAAAA,eAAe,EAAE,MAHV;AAIPC,IAAAA,WAAW,EAAE,SAJN;AAKPC,IAAAA,WAAW,EAAE,CALN;AAMPC,IAAAA,YAAY,EAAE;AANP,GADsB;AAS/BR,EAAAA,IAAI,EAAE;AACJS,IAAAA,IAAI,EAAE,CADF;AAEJC,IAAAA,UAAU,EAAE,QAFR;AAGJC,IAAAA,cAAc,EAAE;AAHZ,GATyB;AAc/BpC,EAAAA,IAAI,EAAE;AACJqC,IAAAA,KAAK,EAAE,SADH;AAEJC,IAAAA,aAAa,EAAE,WAFX;AAGJC,IAAAA,SAAS,EAAE;AAHP;AAdyB,CAAlB,CAAf","sourcesContent":["import React from \"react\";\nimport { StyleSheet, View, Text, AsyncStorage } from \"react-native\";\nimport { Overlay } from \"react-native-elements\";\nimport AppButton from \"../../Lib/plug/AppButton\";\nimport { api } from \"../../Lib/utils/db\";\nimport axios from \"axios\";\n\nexport default function Loading(props) {\n  const { isVisible, text } = props;\n\n\n\n  const ChangedEstado = async (pedido, est) => {\n\n    const pedido_change = {\n      'estado': est, // cancelado\n    }\n\n    axios.put(`${api}pedidos/update_estado/${pedido}/`, pedido_change)\n       .then(response => {\n        console.log(response)\n         \n       }).catch(error=>{\n         console.log(error)\n       })\n\n  }\n\n  const CancelarViaje = async () => {\n    const id_pedido = await AsyncStorage.getItem(\"id_pedido\");\n    const id_user = await AsyncStorage.getItem(\"id_user\");\n\n    // Enviamos primera información\n    const titulo = \"Cancelación de servicio\"\n    const descripcion = \"Haz cancelado el servicio\"\n\n    const logs_pedido = {\n     \"title\": titulo,\n     \"description\": descripcion,\n     \"pedido\": parseInt(id_pedido),\n     \"realizado_by\": parseInt(id_user)\n    }\n\n    axios.post(`${api}pedidos_acti/create/`, logs_pedido)\n       .then(response => {\n        console.log(response)\n        \n          ChangedEstado(id_pedido,4) // Cancelar pedido\n         \n       }).catch(error=>{\n         console.log(error)\n       })\n\n    // const response = await fetch(\n    //   `${api}PedidosController.php?pedido_user=1&delete=1&id=${id_pedido}&estado=4&id_user=${id_user}`\n    // );\n    //console.log(JSON.stringify(response));\n    // const res = await response.json();\n  };\n\n  const ConfirmarViaje = async () => {\n    const id_pedido = await AsyncStorage.getItem(\"id_pedido\");\n    const id_user = await AsyncStorage.getItem(\"id_user\");\n\n    // Enviamos primera información\n    const titulo = \"Confirmación del viaje servicio\"\n    const descripcion = \"Haz confirmado el servicio\"\n\n    const logs_pedido = {\n      \"title\": titulo,\n      \"description\": descripcion,\n      \"pedido\": parseInt(id_pedido),\n      \"realizado_by\": parseInt(id_user)\n     }\n     axios.post(`${api}pedidos_acti/create/`, logs_pedido)\n        .then(response => {\n          console.log(response)\n\n          ChangedEstado(id_pedido,7)// Confirmar pedido\n          \n        }).catch(error=>{\n          console.log(error)\n        })\n  };\n  return (\n    <Overlay\n      isVisible={isVisible}\n      windowBackgroundColor=\"rgba(0,0,0, .5)\"\n      overlayBackgroundColor=\"transparent\"\n      overlayStyle={styles.overlay}\n    >\n      <View style={styles.view}>\n        {text && <Text style={styles.text}>{text}</Text>}\n        <Text>{\"\\n\"}</Text>\n        {/* {precio && <Text>Costo: ${precio}</Text>} */}\n        <AppButton title=\"CONFIRMAR\" action={ConfirmarViaje} />\n        <Text>{\"\\n\"}</Text>\n        <AppButton title=\"CANCELAR\" action={CancelarViaje} />\n      </View>\n    </Overlay>\n  );\n}\n\nconst styles = StyleSheet.create({\n  overlay: {\n    height: 400,\n    width: 400,\n    backgroundColor: \"#fff\",\n    borderColor: \"#00a680\",\n    borderWidth: 2,\n    borderRadius: 10,\n  },\n  view: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  text: {\n    color: \"#00a680\",\n    textTransform: \"uppercase\",\n    marginTop: 10,\n  },\n});\n"]},"metadata":{},"sourceType":"module"}